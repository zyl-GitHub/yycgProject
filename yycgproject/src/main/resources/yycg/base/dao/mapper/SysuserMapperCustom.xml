<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="yycg.base.dao.mapper.SysuserMapperCustom">
 
 <sql id="query_sysuser_where">
 		<if test="sysuserCustom!=null">
 			<if test="sysuserCustom.userid!=null and sysuserCustom.userid!=''">
 				and sysuserCustom.userid = #{sysuserCustom.userid}
 			</if>
 			<if test="sysuserCustom.username!=null and sysuserCustom.username!=''">
 				and sysuserCustom.username = #{sysuserCustom.username}
 			</if>
 			<if test="sysuserCustom.groupid!=null and sysuserCustom.groupid!=''">
 				and sysuserCustom.groupid = #{sysuserCustom.groupid}
 			</if>
     		<if test="sysuserCustom.sysmc!=null and sysuserCustom.sysmc!=''">
     			and sysuser.sysmc likd=e '%${sysuserCustom.sysmc}%'
     		</if>
     	</if>
 </sql>
 <!-- 用户查询 -->
  <select id="findSysuserList" parameterType="yycg.base.pojo.vo.SysuserQueryVo" resultType="yycg.base.pojo.vo.SysuserCustom">
  
  	select * from
	(
	  select sysuser.id,
      sysuser.userid,
      sysuser.username,
      sysuser.groupid,
      sysuser.sysid,
      decode(sysuser.groupid,
        '1',
        (select mc from userjd where id = sysuser.sysid),
        '2',
         (select mc from userjd where id = sysuser.sysid),
         '3',
          (select mc from useryy where id = sysuser.sysid),
          '4',
           (select mc from usergys where id = sysuser.sysid)
      )
      from sysuser) sysuser
     <where>
     	<include refid="query_sysuser_where"></include>
     </where>
  </select>
</mapper>